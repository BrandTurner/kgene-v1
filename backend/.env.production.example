# ==============================================================================
# KEGG Explore Backend - PRODUCTION Environment
# ==============================================================================
# This is a production-ready configuration template
# Copy to .env and update with actual production values
# ==============================================================================

# ------------------------------------------------------------------------------
# Database Configuration - PRODUCTION
# ------------------------------------------------------------------------------
# Use managed database service (AWS RDS, Google Cloud SQL, etc.)
DATABASE_URL=postgresql+asyncpg://prod_user:STRONG_PASSWORD_HERE@prod-db.example.com:5432/kegg_prod
DATABASE_POOL_SIZE=20
DATABASE_MAX_OVERFLOW=10

# ------------------------------------------------------------------------------
# Redis Configuration - PRODUCTION
# ------------------------------------------------------------------------------
# Use managed Redis (AWS ElastiCache, Redis Cloud, etc.)
REDIS_URL=redis://:REDIS_PASSWORD@prod-redis.example.com:6379/0
REDIS_PASSWORD=STRONG_REDIS_PASSWORD

# ------------------------------------------------------------------------------
# API Server - PRODUCTION
# ------------------------------------------------------------------------------
API_HOST=0.0.0.0
API_PORT=8000
API_WORKERS=8  # Adjust based on CPU cores

# ------------------------------------------------------------------------------
# Environment - PRODUCTION
# ------------------------------------------------------------------------------
ENVIRONMENT=production
DEBUG=false  # CRITICAL: Must be false in production

# ------------------------------------------------------------------------------
# Security - PRODUCTION (CHANGE ALL OF THESE!)
# ------------------------------------------------------------------------------
# Generate: python -c "import secrets; print(secrets.token_urlsafe(32))"
SECRET_KEY=REPLACE_WITH_ACTUAL_SECRET_KEY_MINIMUM_32_CHARACTERS

# CORS: List ONLY your production domains (NO wildcards!)
ALLOWED_ORIGINS=https://app.kegg-explore.com,https://api.kegg-explore.com
CORS_ALLOW_CREDENTIALS=true

# ------------------------------------------------------------------------------
# KEGG API - PRODUCTION
# ------------------------------------------------------------------------------
KEGG_API_BASE_URL=https://rest.kegg.jp
KEGG_API_RATE_LIMIT=0.35
KEGG_TIMEOUT=30

# ------------------------------------------------------------------------------
# Logging - PRODUCTION
# ------------------------------------------------------------------------------
LOG_LEVEL=WARNING  # INFO for more verbose, WARNING for production
LOG_FORMAT=json  # JSON for log aggregation (ELK, Datadog, etc.)
LOG_FILE=/var/log/kegg-explore/api.log

# ------------------------------------------------------------------------------
# Background Jobs - PRODUCTION
# ------------------------------------------------------------------------------
ARQ_QUEUE_NAME=kgene:queue:prod
MAX_CONCURRENT_ORTHOLOGS=10
ARQ_JOB_TIMEOUT=3600
ARQ_POLL_DELAY=0.5

# ------------------------------------------------------------------------------
# Error Tracking - PRODUCTION (HIGHLY RECOMMENDED)
# ------------------------------------------------------------------------------
# Sign up at https://sentry.io
SENTRY_DSN=https://YOUR_KEY@YOUR_ORG.ingest.sentry.io/YOUR_PROJECT_ID
SENTRY_ENVIRONMENT=production
SENTRY_TRACES_SAMPLE_RATE=0.1  # Sample 10% of transactions

# ------------------------------------------------------------------------------
# Rate Limiting - PRODUCTION (ENABLED)
# ------------------------------------------------------------------------------
ENABLE_RATE_LIMIT=true
RATE_LIMIT_PER_MINUTE=100

# ------------------------------------------------------------------------------
# Feature Flags - PRODUCTION
# ------------------------------------------------------------------------------
ENABLE_WEBSOCKET=false  # Enable if you add WebSocket support
ENABLE_METRICS=true

# ------------------------------------------------------------------------------
# Development Settings - PRODUCTION (ALL DISABLED)
# ------------------------------------------------------------------------------
DEV_RELOAD=false
DEV_SQL_ECHO=false
DEV_ENABLE_DOCS=false  # Disable Swagger UI in production for security

# ------------------------------------------------------------------------------
# Application Metadata
# ------------------------------------------------------------------------------
APP_NAME=KEGG Explore API
APP_VERSION=2.0.0

# ==============================================================================
# PRODUCTION DEPLOYMENT CHECKLIST
# ==============================================================================
# [ ] Changed SECRET_KEY to unique value
# [ ] Set ALLOWED_ORIGINS to specific domains (not *)
# [ ] DEBUG=false
# [ ] DATABASE_URL points to managed database
# [ ] REDIS_URL points to managed Redis
# [ ] SENTRY_DSN configured for error tracking
# [ ] LOG_LEVEL=WARNING or INFO
# [ ] LOG_FORMAT=json
# [ ] DEV_ENABLE_DOCS=false (security)
# [ ] SSL/TLS certificates configured
# [ ] Firewall rules configured
# [ ] Database backups configured
# [ ] Monitoring/alerts configured
# ==============================================================================
